PushWidgets.WFFadeShow=new Class({Implements:[Events,Options],currentIndex:0,timer:null,options:{advanceMode:"single",nextClicker:"~ .car-next",prevClicker:"~ .car-prev",autoplay:!0},initialize:function(t,e){this.container=$(t),this.container.getAttribute("data-setup-options")&&(e=JSON.parse(this.container.getAttribute("data-setup-options"))),this.setOptions(e),this.update(),this.setCurrentIndex(this.currentIndex),this.container.setStyles({position:"relative",overflow:"hidden"});try{this.options.nextClicker&&this.container.getElements(this.options.nextClicker).addEvent("click",this.next.bind(this)),this.options.prevClicker&&this.container.getElements(this.options.prevClicker).addEvent("click",this.prev.bind(this))}catch(t){PushWidgets.debug(t)}return this.options.autoplay&&this.play(),this},setCurrentIndex:function(t){return this.fireEvent("beforeChange",[this.currentIndex]),"next"==t&&(t=this.currentIndex+1),"prev"==t&&(t=this.currentIndex-1),t<0&&(t=this.elements.length-1),t=parseInt(t)%this.elements.length,this.currentIndex=t,this.container.setAttribute("data-current-slide",t+1),1==this.elements.length?this.container.setAttribute("data-status","allvisible"):this.elements.length-1!=t||this.options.wrapAround?0!=t||this.options.wrapAround?this.container.removeAttribute("data-status"):this.container.setAttribute("data-status","start"):this.container.setAttribute("data-status","end"),this.fireEvent("change",[this.currentIndex]),this},update:function(){this.container.addClass("fadeShow"),this.elements=this.container.getChildren(),this.elements.setStyles({position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}),this.container.setAttribute("data-last-index",this.elements.length)},next:function(){this.setCurrentIndex("next"),this.stop()},prev:function(){this.setCurrentIndex("prev"),this.stop()},play:function(t){return this.timer=this.setCurrentIndex.periodical(t||5e3,this,["next"]),this},stop:function(){clearInterval(this.timer),this.timer=null}}),PushWidgets.WFFadeShow.attach=function(t){t=t||document.body,$(t).getElements('[data-ui-role="fadeshow"]').each(function(t){new PushWidgets.WFFadeShow(t),t.set("data-ui-role",null)})};